<form id="sort-form" method="post" action="/users" hx-post="/users" hx-target="#main">
    <table>
        <thead>
            <tr>
                <th>
                    <input type="submit" name="sort_by" value="id">
                    ID
                    {% if sort_by == "id" %}<span class="sort-icon">{{ sort_order_icon }}</span>{% endif %}
                </th>
                <th>
                    <input type="submit" name="sort_by" value="first_name">
                    First Name
                    {% if sort_by == "first_name" %}<span class="sort-icon">{{ sort_order_icon }}</span>{% endif %}
                </th>
                <th>
                    <input type="submit" name="sort_by" value="last_name">
                    Last Name
                    {% if sort_by == "last_name" %}<span class="sort-icon">{{ sort_order_icon }}</span>{% endif %}
                </th>
                <th>
                    <input type="submit" name="sort_by" value="age">
                    Age
                    {% if sort_by == "age" %}<span class="sort-icon">{{ sort_order_icon }}</span>{% endif %}
                </th>
                <th>
                    <input type="submit" name="sort_by" value="email">
                    Email
                    {% if sort_by == "email" %}<span class="sort-icon">{{ sort_order_icon }}</span>{% endif %}
                </th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.first_name }}</td>
                <td>{{ user.last_name }}</td>
                <td>{{ user.age }}</td>
                <td>{{ user.email }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <input type="hidden" name="sort_order" value="{{ sort_order }}">
    <input type="hidden" name="prev_sort_by" value="{{ sort_by }}">
</form>
